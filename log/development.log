

Started GET "/" for 127.0.0.1 at 2017-01-04 13:26:14 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/railties-4.2.2/lib/rails/templates/rails/welcome/index.html.erb (36.4ms)
Completed 200 OK in 419ms (Views: 340.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-01-04 13:26:23 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/railties-4.2.2/lib/rails/templates/rails/welcome/index.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-01-04 13:28:25 +0300
Processing by WelcomeController#home as HTML
  Rendered welcome/home.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5079ms (Views: 5078.2ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for 127.0.0.1 at 2017-01-04 13:28:30 +0300


Started GET "/assets/jquery.self-a714331225dda820228db323939889f149aec0127aeb06255646b616ba1ca419.js?body=1" for 127.0.0.1 at 2017-01-04 13:28:30 +0300


Started GET "/assets/jquery_ujs.self-d456baa54c1fa6be2ec3711f0a72ddf7a5b2f34a6b4f515f33767d6207b7d4b3.js?body=1" for 127.0.0.1 at 2017-01-04 13:28:30 +0300


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for 127.0.0.1 at 2017-01-04 13:28:30 +0300


Started GET "/assets/application.self-3b8dabdc891efe46b9a144b400ad69e37d7e5876bdc39dee783419a69d7ca819.js?body=1" for 127.0.0.1 at 2017-01-04 13:28:30 +0300


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 13:28:33 +0300


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 13:28:33 +0300


Started GET "/auth/facebook/callback?error_code=1349048&error_message=Can%27t+Load+URL%3A+The+domain+of+this+URL+isn%27t+included+in+the+app%27s+domains.+To+be+able+to+load+this+URL%2C+add+all+domains+and+subdomains+of+your+app+to+the+App+Domains+field+in+your+app+settings.&state=ab79d96471127787a30ad567dcb1ba04c3669cde5b0bb457" for 127.0.0.1 at 2017-01-04 13:30:38 +0300

OmniAuth::Strategies::Facebook::NoAuthorizationCodeError (must pass either a `code` (via URL or by an `fbsr_XXX` signed request cookie)):
  omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:147:in `with_authorization_code!'
  omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:66:in `callback_phase'
  omniauth (1.3.1) lib/omniauth/strategy.rb:227:in `callback_call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:184:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.3.1) lib/omniauth/builder.rb:63:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.2) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:649:in `call'
  activerecord (4.2.2) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.2) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:776:in `_run_call_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.2) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.7ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (307.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.2ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (318.2ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (637.5ms)


Started GET "/auth/facebook/" for 127.0.0.1 at 2017-01-04 13:31:06 +0300


Started GET "/auth/facebook/callback?code=AQBIjMNOnj9pypxUeaEcVJAnzNyZWJPZbxhkAB7YUUZsYJlyCDQ6uoAeVaiXR10Ltzljw-lsn-JHkRLmEnb77w6naEOps0RiKwPX796SbxrCejWZ2GB8XGJV8Y0iRKe6Pu1hqVRnW8Tl28zZI1_u4qXWhRW11EsM0w-lSvz8r2MGUs9WwwZMLHq6qhB826pU4apxvW6Uy4TyrfxzdNMeaq4RQtyWEaguH5bjxyc5qfPZ3T5sniwvd4VExL4EZnI8sY1R1xA86XJ3VGpi5CtGGIexey_nZUq9ojSgkQMdlSgJNV0Bye-1m-H0VVgm0fvqc8XdgpY6ZyorUSRi9aY_ZJiI&state=8d1e93f1ce45f64e575e7134d1f1b4cf1051f592b7f56c52" for 127.0.0.1 at 2017-01-04 13:31:10 +0300

ActionController::RoutingError (No route matches [GET] "/auth/facebook/callback"):
  actionpack (4.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.2) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.3ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb (1.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (186.0ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.3ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (486.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.0ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (138.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (310.3ms)


Started GET "/" for 127.0.0.1 at 2017-01-04 13:36:40 +0300
Processing by WelcomeController#home as HTML
  Rendered welcome/home.html.erb within layouts/application (6.0ms)
Completed 200 OK in 402ms (Views: 376.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 13:36:43 +0300


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 13:36:44 +0300


Started GET "/auth/facebook/callback?code=AQDFQzYc7nwoch_UIuygi1AdyPDKuYjp6gV88MVOvuosD5W8hkX-TidUStnQpuSwyLIRQAqPsqwjw5cWNvrWcDAU6hdGa3VPtwM4wpUwo5tgALSc55on2xyJ1ffODk7wtYeHh_v8Y0yZqJYypfpuItgC4C5k7WS_Py0gLmI4zkOYIUo4qBox4dvus5685C1ZgeHmumPyOJO-QcWOKoD12YmScsIc6XdcScqFcPmV8Eh6CUpeO3ebitrYHSEFD8tXakU2psG-1DHV3H8T_Dq1UvJyiSnrFaShYKMaCBgTZkoPGNYZcPNcFBUp6K_B5Z5vVVhF9KnQF-Rco2nWkOVO5cL7&state=a76b8019e1bbe8deb8bf68c1c47c2d1d84758603dc0f720b" for 127.0.0.1 at 2017-01-04 13:36:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQDFQzYc7nwoch_UIuygi1AdyPDKuYjp6gV88MVOvuosD5W8hkX-TidUStnQpuSwyLIRQAqPsqwjw5cWNvrWcDAU6hdGa3VPtwM4wpUwo5tgALSc55on2xyJ1ffODk7wtYeHh_v8Y0yZqJYypfpuItgC4C5k7WS_Py0gLmI4zkOYIUo4qBox4dvus5685C1ZgeHmumPyOJO-QcWOKoD12YmScsIc6XdcScqFcPmV8Eh6CUpeO3ebitrYHSEFD8tXakU2psG-1DHV3H8T_Dq1UvJyiSnrFaShYKMaCBgTZkoPGNYZcPNcFBUp6K_B5Z5vVVhF9KnQF-Rco2nWkOVO5cL7", "state"=>"a76b8019e1bbe8deb8bf68c1c47c2d1d84758603dc0f720b"}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms)

NameError (uninitialized constant SessionsController::User):
  app/controllers/sessions_controller.rb:4:in `create'


  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (17.7ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (12.8ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (155.8ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (165.0ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (342.6ms)


Started GET "/" for 127.0.0.1 at 2017-01-04 13:44:32 +0300

ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rake db:migrate RAILS_ENV=development

):
  activerecord (4.2.2) lib/active_record/migration.rb:393:in `check_pending!'
  activerecord (4.2.2) lib/active_record/migration.rb:374:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.2) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:776:in `_run_call_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.2) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.4ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (12.7ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (228.0ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (125.3ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (296.9ms)
  [1m[36m (183.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (172.5ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateUsers (20170104104149)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (3.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "name" varchar, "uid" integer) 
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170104104149"]]
  [1m[35m (130.1ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started GET "/" for 127.0.0.1 at 2017-01-04 13:45:21 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#home as HTML
  Rendered welcome/home.html.erb within layouts/application (10.5ms)
Completed 200 OK in 599ms (Views: 564.6ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 13:45:28 +0300


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 13:45:28 +0300


Started GET "/auth/facebook/callback?code=AQC6r4A9Fm-qnZmtIR-ksbI8WSvfr7_0clmYFlOyXgMaU06sbG4qor511pWdvND3G1RyBxPyT_OTTp7nT9ozNTQMrjB0jPCBmZ5AZj4Uqu3ErkKIORF23xktgBKJoBU4Jtxg8VbQuT96ip0lhmJPq-0u12HABAUi_DWlqWn46j4XZY3GDuxfOhqUm5jvmLl3dbIvzgjml3jVcpWuDF20mzZcJc9on5teGVt002VinEgCB97H9ibyQqaoKeVEE5thHJRNCXbftYgaweEOjcaXpGiyzJX0E5UrzElZIwLnT6oGLlBJsn7VXESgv7cmJyFT30Hwtiae_GJF4fN00azRw0R1&state=329604aee9d89db0713fc4429a0aed23a94abdd2efce1ce4" for 127.0.0.1 at 2017-01-04 13:45:29 +0300
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQC6r4A9Fm-qnZmtIR-ksbI8WSvfr7_0clmYFlOyXgMaU06sbG4qor511pWdvND3G1RyBxPyT_OTTp7nT9ozNTQMrjB0jPCBmZ5AZj4Uqu3ErkKIORF23xktgBKJoBU4Jtxg8VbQuT96ip0lhmJPq-0u12HABAUi_DWlqWn46j4XZY3GDuxfOhqUm5jvmLl3dbIvzgjml3jVcpWuDF20mzZcJc9on5teGVt002VinEgCB97H9ibyQqaoKeVEE5thHJRNCXbftYgaweEOjcaXpGiyzJX0E5UrzElZIwLnT6oGLlBJsn7VXESgv7cmJyFT30Hwtiae_GJF4fN00azRw0R1", "state"=>"329604aee9d89db0713fc4429a0aed23a94abdd2efce1ce4"}
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms)

NameError (uninitialized constant SessionsController::User):
  app/controllers/sessions_controller.rb:4:in `create'


  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (16.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.0ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (169.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (219.2ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (460.3ms)


Started GET "/" for 127.0.0.1 at 2017-01-04 15:52:09 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#home as HTML
  Rendered welcome/home.html.erb within layouts/application (9.9ms)
Completed 200 OK in 617ms (Views: 580.0ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 15:52:13 +0300


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 15:52:13 +0300


Started GET "/auth/facebook/callback?code=AQB--8k_6FwkHC2DOq2fmqIToow4GMA7axGWmEAj5c8fBNje1nCeCwfyU9ocwH1KZ2TkdLK33RRyQbodGgAKgPRBpf-18Sa0OBr9pKu5xyNBvVstloi10d2Y7xw2MDEGgSowYSOUgzkbK7WmWysHNG2cKdfUoq_nu_oomfJ62BcjDrUlnsedKf0kNR5-ujYNy2pU5ljtQGn2y1j5mvIvOJKXpYj7Lh7ZFlkIIbr1aTWBkDGhmHKQqpJEKaga_KGnWpyDPb1XTcijBJPm4c3NEAZrhEOb-VlKXPSP-tMODTy6FTsgNu3CMW2T37rE0mUx9KKLPryEZv_td_kO8ISVALlr&state=4779bb460ad576959ad151b6ec90867d5defe7f4bc9d0167" for 127.0.0.1 at 2017-01-04 15:52:14 +0300
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQB--8k_6FwkHC2DOq2fmqIToow4GMA7axGWmEAj5c8fBNje1nCeCwfyU9ocwH1KZ2TkdLK33RRyQbodGgAKgPRBpf-18Sa0OBr9pKu5xyNBvVstloi10d2Y7xw2MDEGgSowYSOUgzkbK7WmWysHNG2cKdfUoq_nu_oomfJ62BcjDrUlnsedKf0kNR5-ujYNy2pU5ljtQGn2y1j5mvIvOJKXpYj7Lh7ZFlkIIbr1aTWBkDGhmHKQqpJEKaga_KGnWpyDPb1XTcijBJPm4c3NEAZrhEOb-VlKXPSP-tMODTy6FTsgNu3CMW2T37rE0mUx9KKLPryEZv_td_kO8ISVALlr", "state"=>"4779bb460ad576959ad151b6ec90867d5defe7f4bc9d0167"}
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 302ms (ActiveRecord: 3.3ms)

RangeError (1427886623897558 is out of range for ActiveRecord::Type::Integer with limit 4):
  app/controllers/sessions_controller.rb:4:in `create'


  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (30.4ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (7.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (226.3ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.8ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (153.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (381.0ms)
  [1m[36m (134.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (132.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateUsers (20170104104149)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (2.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "name" varchar, "uid" integer(8)) 
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170104104149"]]
  [1m[35m (177.1ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "users" ("name", "email") VALUES (?, ?)[0m  [["name", "user1"], ["email", "email@email.com"]]
  [1m[35m (136.0ms)[0m  commit transaction


Started GET "/" for 127.0.0.1 at 2017-01-04 15:57:21 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#home as HTML
  Rendered welcome/home.html.erb within layouts/application (11.4ms)
Completed 200 OK in 570ms (Views: 525.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 15:57:25 +0300


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 15:57:25 +0300


Started GET "/auth/facebook/callback?code=AQBgNFvBn4dztTiLmXZEMxAgJVggJHig5zId6Y7B1BElFzj3Uwjga-8fnexBSdw9vQizretoEOARobU6mdFqvm6-PKmOl4FVIflrapclJzeOJoxduYtqUMfNVDsLvaUMnxfM2Dr1E4EpoIJIpg7AUWZOo8qA99o0HATDJI6J8yxIRXtX-TEFS8J80ltmPoJ3YGGHS437wDuLupa7dpwogU5GIa_R9OLNsPYM6Dwda3W6Sai7w9lKjMGD0ytMFIJuDz1E2nFJNGNU65l_5iB7X30dY2V5JjYrMzp89ximQ-KuxTEmCqelbH1NdonoRvzxoG542LutfYoy8TfRJGDHsvop&state=45a50c37994096a44914b2f5b9c2960a2d6b41fefadfbfd9" for 127.0.0.1 at 2017-01-04 15:57:26 +0300
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBgNFvBn4dztTiLmXZEMxAgJVggJHig5zId6Y7B1BElFzj3Uwjga-8fnexBSdw9vQizretoEOARobU6mdFqvm6-PKmOl4FVIflrapclJzeOJoxduYtqUMfNVDsLvaUMnxfM2Dr1E4EpoIJIpg7AUWZOo8qA99o0HATDJI6J8yxIRXtX-TEFS8J80ltmPoJ3YGGHS437wDuLupa7dpwogU5GIa_R9OLNsPYM6Dwda3W6Sai7w9lKjMGD0ytMFIJuDz1E2nFJNGNU65l_5iB7X30dY2V5JjYrMzp89ximQ-KuxTEmCqelbH1NdonoRvzxoG542LutfYoy8TfRJGDHsvop", "state"=>"45a50c37994096a44914b2f5b9c2960a2d6b41fefadfbfd9"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = ? LIMIT 1  [["uid", 1427886623897558]]
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.0ms)[0m  INSERT INTO "users" ("uid", "name", "email") VALUES (?, ?, ?)  [["uid", 1427886623897558], ["name", "Ali Alrawi"], ["email", "red_lin70@yahoo.com"]]
  [1m[36m (178.1ms)[0m  [1mcommit transaction[0m
  Rendered sessions/create.html.erb within layouts/application (28.6ms)
Completed 500 Internal Server Error in 414ms (ActiveRecord: 182.7ms)

ActionView::Template::Error (only generation of JSON objects or arrays allowed):
    1: <pre><%= JSON.pretty_generate(@auth) %></pre>
    2: <img src="<%= @auth[:info] && @auth[:info][:image] %>">
  app/views/sessions/create.html.erb:1:in `_app_views_sessions_create_html_erb__2638288783673339927_40705680'


  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (16.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.7ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (191.7ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (138.8ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (305.5ms)


Started GET "/auth/facebook/callback?code=AQBgNFvBn4dztTiLmXZEMxAgJVggJHig5zId6Y7B1BElFzj3Uwjga-8fnexBSdw9vQizretoEOARobU6mdFqvm6-PKmOl4FVIflrapclJzeOJoxduYtqUMfNVDsLvaUMnxfM2Dr1E4EpoIJIpg7AUWZOo8qA99o0HATDJI6J8yxIRXtX-TEFS8J80ltmPoJ3YGGHS437wDuLupa7dpwogU5GIa_R9OLNsPYM6Dwda3W6Sai7w9lKjMGD0ytMFIJuDz1E2nFJNGNU65l_5iB7X30dY2V5JjYrMzp89ximQ-KuxTEmCqelbH1NdonoRvzxoG542LutfYoy8TfRJGDHsvop&state=45a50c37994096a44914b2f5b9c2960a2d6b41fefadfbfd9" for 127.0.0.1 at 2017-01-04 15:58:39 +0300

OAuth2::Error ({"message"=>"This authorization code has been used.", "type"=>"OAuthException", "code"=>100, "fbtrace_id"=>"CDwvcWj/7DX"}: 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"CDwvcWj\/7DX"}}):
  oauth2 (1.3.0) lib/oauth2/client.rb:119:in `request'
  oauth2 (1.3.0) lib/oauth2/client.rb:146:in `get_token'
  oauth2 (1.3.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
  omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
  omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:110:in `build_access_token'
  omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
  omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:67:in `block in callback_phase'
  omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:131:in `with_authorization_code!'
  omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:66:in `callback_phase'
  omniauth (1.3.1) lib/omniauth/strategy.rb:227:in `callback_call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:184:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.3.1) lib/omniauth/builder.rb:63:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.2) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:649:in `call'
  activerecord (4.2.2) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.2) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:776:in `_run_call_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.2) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.0ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (156.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.1ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (158.2ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (361.1ms)


Started GET "/" for 127.0.0.1 at 2017-01-04 15:59:00 +0300
Processing by WelcomeController#home as HTML
  Rendered welcome/home.html.erb within layouts/application (0.5ms)
Completed 200 OK in 85ms (Views: 84.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 15:59:03 +0300


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 15:59:03 +0300


Started GET "/auth/facebook/callback?code=AQC48PrLBapxqo5NsD-Nhqzv8ixury9uzj5wiEXG6TVu8jpIY30yrgz2g4UoN3oYaLlEjEDndzxcC4PhWX93YzJV2_e3IWWy-fOQlC9HXVMINr5vUfCX-UesP8C3vfLVvPgTgxB1j4ZDMAGEdf_N4wNydhsy85sPfCasrQuJjGkMxKZAb6Bk2laibvqxVrhEN24MSku9DeCcJZ3BCWP9ZPVuu1dDIKs3tvCDtrDN6UJH4zavJWNcQ0rwpe9FkYFowmZQQkKz64COsIQ8Y7wzsr5ik_o_1cXiY-z-fM2qX889nzIcqzy8rF9UumJrJisb1zaLTzKLa7aT9OrMMC2XRnvJ&state=b72e03fee4b59fadadddaf16c6fa22344b49ed6fab818f4a" for 127.0.0.1 at 2017-01-04 15:59:04 +0300
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQC48PrLBapxqo5NsD-Nhqzv8ixury9uzj5wiEXG6TVu8jpIY30yrgz2g4UoN3oYaLlEjEDndzxcC4PhWX93YzJV2_e3IWWy-fOQlC9HXVMINr5vUfCX-UesP8C3vfLVvPgTgxB1j4ZDMAGEdf_N4wNydhsy85sPfCasrQuJjGkMxKZAb6Bk2laibvqxVrhEN24MSku9DeCcJZ3BCWP9ZPVuu1dDIKs3tvCDtrDN6UJH4zavJWNcQ0rwpe9FkYFowmZQQkKz64COsIQ8Y7wzsr5ik_o_1cXiY-z-fM2qX889nzIcqzy8rF9UumJrJisb1zaLTzKLa7aT9OrMMC2XRnvJ", "state"=>"b72e03fee4b59fadadddaf16c6fa22344b49ed6fab818f4a"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = ? LIMIT 1  [["uid", 1427886623897558]]
  Rendered sessions/create.html.erb within layouts/application (11.4ms)
Completed 500 Internal Server Error in 81ms (ActiveRecord: 0.4ms)

ActionView::Template::Error (undefined method `[]' for nil:NilClass):
    1: 
    2: <img src="<%= @auth[:info] && @auth[:info][:image] %>">
  app/views/sessions/create.html.erb:2:in `_app_views_sessions_create_html_erb__2638288783673339927_70045791454740'


  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (16.2ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.3ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (138.8ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (153.0ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (335.0ms)


Started GET "/auth/facebook/callback?code=AQC48PrLBapxqo5NsD-Nhqzv8ixury9uzj5wiEXG6TVu8jpIY30yrgz2g4UoN3oYaLlEjEDndzxcC4PhWX93YzJV2_e3IWWy-fOQlC9HXVMINr5vUfCX-UesP8C3vfLVvPgTgxB1j4ZDMAGEdf_N4wNydhsy85sPfCasrQuJjGkMxKZAb6Bk2laibvqxVrhEN24MSku9DeCcJZ3BCWP9ZPVuu1dDIKs3tvCDtrDN6UJH4zavJWNcQ0rwpe9FkYFowmZQQkKz64COsIQ8Y7wzsr5ik_o_1cXiY-z-fM2qX889nzIcqzy8rF9UumJrJisb1zaLTzKLa7aT9OrMMC2XRnvJ&state=b72e03fee4b59fadadddaf16c6fa22344b49ed6fab818f4a" for 127.0.0.1 at 2017-01-04 15:59:39 +0300

OAuth2::Error ({"message"=>"This authorization code has been used.", "type"=>"OAuthException", "code"=>100, "fbtrace_id"=>"AZfS677ZNwz"}: 
{"error":{"message":"This authorization code has been used.","type":"OAuthException","code":100,"fbtrace_id":"AZfS677ZNwz"}}):
  oauth2 (1.3.0) lib/oauth2/client.rb:119:in `request'
  oauth2 (1.3.0) lib/oauth2/client.rb:146:in `get_token'
  oauth2 (1.3.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
  omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
  omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:110:in `build_access_token'
  omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
  omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:67:in `block in callback_phase'
  omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:131:in `with_authorization_code!'
  omniauth-facebook (4.0.0) lib/omniauth/strategies/facebook.rb:66:in `callback_phase'
  omniauth (1.3.1) lib/omniauth/strategy.rb:227:in `callback_call'
  omniauth (1.3.1) lib/omniauth/strategy.rb:184:in `call!'
  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.3.1) lib/omniauth/builder.rb:63:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.2) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:649:in `call'
  activerecord (4.2.2) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.2) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:776:in `_run_call_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.2) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/httpserver.rb:140:in `service'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/httpserver.rb:96:in `run'
  /usr/local/rvm/rubies/ruby-2.3.3/lib/ruby/2.3.0/webrick/server.rb:296:in `block in start_thread'


  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.4ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (166.6ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.3ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (153.3ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /usr/local/rvm/gems/ruby-2.3.3/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (341.2ms)


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 15:59:46 +0300


Started GET "/auth/facebook" for 127.0.0.1 at 2017-01-04 15:59:46 +0300


Started GET "/auth/facebook/callback?code=AQBFhYOQannG7vSmZOD-K5CX4OUJNO7ZmBB783tNjlTuS_2JWq5gvs24RMZszndIberWLoQr9laxRkXV1Zqw7fHFmxj12Fcljp1eqyKBP5ABXLfZqEsO3t1MAk6fwUimcQCGD86nlpEBGdQ6nVBGGHkKhgt5Uvg9MpqXzZ7oLul6GNXkX9bYkl9s8I9Ig6sDSnJzRDruyjzaWpTcR3uAF1AdpEyzLFY3864bBcKuQeaB5rtfuFWt0LKEDI4XeGaIpiXE9P1z-450TH9KfKUGKVjIRmqc8Zv1rgs7sagK8We-0zB9u78ic2bk5ldnzSs12RQdteBIB1Jc2qUONaY_Ax3P&state=22704c2c129cb05164ecc5478369dd601e540c326bfbbebf" for 127.0.0.1 at 2017-01-04 15:59:46 +0300
Processing by SessionsController#create as HTML
  Parameters: {"code"=>"AQBFhYOQannG7vSmZOD-K5CX4OUJNO7ZmBB783tNjlTuS_2JWq5gvs24RMZszndIberWLoQr9laxRkXV1Zqw7fHFmxj12Fcljp1eqyKBP5ABXLfZqEsO3t1MAk6fwUimcQCGD86nlpEBGdQ6nVBGGHkKhgt5Uvg9MpqXzZ7oLul6GNXkX9bYkl9s8I9Ig6sDSnJzRDruyjzaWpTcR3uAF1AdpEyzLFY3864bBcKuQeaB5rtfuFWt0LKEDI4XeGaIpiXE9P1z-450TH9KfKUGKVjIRmqc8Zv1rgs7sagK8We-0zB9u78ic2bk5ldnzSs12RQdteBIB1Jc2qUONaY_Ax3P", "state"=>"22704c2c129cb05164ecc5478369dd601e540c326bfbbebf"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = ? LIMIT 1[0m  [["uid", 1427886623897558]]
  Rendered sessions/create.html.erb within layouts/application (0.5ms)
Completed 200 OK in 93ms (Views: 90.2ms | ActiveRecord: 0.4ms)
